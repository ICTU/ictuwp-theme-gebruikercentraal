!function(e,t,s){e(".form-item--filter label").click(function(){var t=e(this).parent();t.find("input:checked").length?t.removeClass("is-active"):t.addClass("is-active")});const a=900,r=t.getElementById("menu-primary"),n=t.querySelectorAll("li.menu-item-has-children"),i=t.querySelectorAll(".btn--toggle-menu"),u=(t.querySelectorAll(".l-header-nav"),t.querySelector(".nav-primary"),t.getElementsByTagName("body"));function o(e,t){e.querySelector("button").classList.remove("default"),e.classList.contains("open")?(e.classList.remove("open"),e.classList.add("closed"),e.querySelector("a").setAttribute("aria-expanded","false"),void 0!==e.querySelector("button")&&e.querySelector("button").setAttribute("aria-expanded","false"),e.querySelector("ul.sub-menu").classList.add("visuallyhidden"),e.querySelector("ul.sub-menu").setAttribute("aria-expanded","false")):(e.classList.add("open"),e.classList.remove("closed"),e.querySelector("a").setAttribute("aria-expanded","true"),void 0!==e.querySelector("button")&&e.querySelector("button").setAttribute("aria-expanded","true"),e.querySelector("ul.sub-menu").classList.remove("visuallyhidden"),e.querySelector("ul.sub-menu").setAttribute("aria-expanded","true"))}function l(){console.log("closeMenuItems");var e=s.innerWidth;t.querySelectorAll(".menu-item-has-children");Array.prototype.forEach.call(n,function(t,s){if(t.classList.remove("open"),t.querySelector("a").setAttribute("aria-expanded","false"),e>a){var r=t.querySelector("button");t.querySelector("ul.sub-menu");r&&void 0!==r&&(r.setAttribute("aria-expanded","false"),r.classList.remove("open-list")),t.querySelector("ul.sub-menu").classList.add("visuallyhidden")}})}function d(e){t.querySelectorAll("button.main-menu__open-sub").forEach(function(e){e.remove()}),e<a?(Array.prototype.forEach.call(n,function(e,t){e.classList.add("open");var s=e.querySelector("ul.sub-menu");s&&(s.classList.remove("visuallyhidden"),s.setAttribute("aria-expanded","true")),e.removeEventListener("mouseenter",function(e){o(this)}),e.removeEventListener("mouseleave",function(e){o(this)})}),i[0].addEventListener("click",function(e){this.classList.contains("active")?(this.classList.remove("active"),u[0].classList.remove("show-menu")):(this.classList.add("active"),u[0].classList.add("show-menu"))})):Array.prototype.forEach.call(n,function(e,t){var s=e,a=s.querySelector(".sub-menu"),r=e.querySelector("a"),n='<button class="icon icon--arrow icon--small" aria-expanded="false" data-ol-has-click-handler aria-expanded="false"><span class="visuallyhidden">Submenu voor “'+r.text+"”</span></button>";r.insertAdjacentHTML("afterend",n),a.classList.add("visuallyhidden"),e.querySelector("button").addEventListener("click",function(e){this.classList.remove("default");var t=this.parentNode.querySelector("ul.sub-menu"),s=t.getAttribute("aria-expanded"),a=!0,r=!1;t.classList.contains("visuallyhidden")&&(a=!1),"false"!==s.toString()&&(r=!0),r&&a?(this.parentNode.classList.remove("open"),this.parentNode.querySelector("a").setAttribute("aria-expanded","false"),this.parentNode.querySelector("button").setAttribute("aria-expanded","false"),this.parentNode.querySelector("button").classList.remove("open-list"),this.parentNode.querySelector("ul.sub-menu").classList.add("visuallyhidden"),this.parentNode.querySelector("ul.sub-menu").setAttribute("aria-expanded","false")):(this.parentNode.classList.add("open"),this.parentNode.querySelector("a").setAttribute("aria-expanded","true"),this.parentNode.querySelector("button").setAttribute("aria-expanded","true"),this.parentNode.querySelector("button").classList.add("open-list"),this.parentNode.querySelector("ul.sub-menu").classList.remove("visuallyhidden"),this.parentNode.querySelector("ul.sub-menu").setAttribute("aria-expanded","true")),e.preventDefault()}),s.addEventListener("mouseenter",function(e){o(this)}),s.addEventListener("mouseleave",function(e){o(this)})})}t.onkeydown=function(e){27==(e=e||s.event).keyCode&&l()},t.addEventListener("click",function(e){r===e.target||r.contains(e.target)||l()}),!!s.MSInputMethodContext&&!!t.documentMode||(s.addEventListener("load",function(){d(s.innerWidth)}),s.addEventListener("resize",function(){d(s.innerWidth)}))}(jQuery,document,window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdjLW1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50Iiwid2luZG93IiwiY2xpY2siLCJmb3JtSXRlbSIsInRoaXMiLCJwYXJlbnQiLCJmaW5kIiwibGVuZ3RoIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImJyZWFrcG9pbnRtZW51IiwidG90YWxNZW51RWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwibWVudUl0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsInRvZ2dsZU1lbnUiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaG92ZXJMaXN0SXRlbSIsInRoZU9iamVjdCIsImRpbmdlcyIsImNsYXNzTGlzdCIsInJlbW92ZSIsImNvbnRhaW5zIiwiYWRkIiwic2V0QXR0cmlidXRlIiwiY2xvc2VNZW51SXRlbXMiLCJjb25zb2xlIiwibG9nIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiY2FsbCIsImVsIiwiaSIsImJ1dHRvbkV4aXN0cyIsImRvTmF2IiwidGhpc0VsZW1lbnQiLCJzdWJsaXN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRoaXNMaXN0SXRlbSIsImN1cnJlbnRTdWJtZW51cyIsImFuY2hvckluTGlzdEl0ZW0iLCJhcHBlbmRCdXR0b25BZnRlckFuY2hvciIsInRleHQiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJzdWJMaXN0IiwicGFyZW50Tm9kZSIsInZhckV4cGFuZGVkIiwiZ2V0QXR0cmlidXRlIiwiaXNWaXNpYmxlIiwiaXNFeHBhbmRlZCIsInRvU3RyaW5nIiwicHJldmVudERlZmF1bHQiLCJvbmtleWRvd24iLCJldnQiLCJrZXlDb2RlIiwidGFyZ2V0IiwiTVNJbnB1dE1ldGhvZENvbnRleHQiLCJkb2N1bWVudE1vZGUiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVdBLEVBQUdD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R0FDcER4QixFQUFjZixRQUVoQnlDLEVBQWFELGlCQUFpQixhQUFjLFNBQVVELEdBQ3BEeEIsRUFBY2YsVUF4R3RCSixFQUFTMkQsVUFBWSxTQUFVQyxHQUVWLEtBRG5CQSxFQUFNQSxHQUFPM0QsRUFBTzBDLE9BQ1prQixTQUVObEMsS0FHSjNCLEVBQVM0QyxpQkFBaUIsUUFiMUIsU0FBZ0NELEdBQzFCaEMsSUFBcUJnQyxFQUFNbUIsUUFBV25ELEVBQWlCYSxTQUFTbUIsRUFBTW1CLFNBQ3hFbkMsUUF1SFcxQixFQUFPOEQsd0JBQTBCL0QsRUFBU2dFLGVBT3ZEL0QsRUFBTzJDLGlCQUFpQixPQUFRLFdBRTlCTCxFQURrQnRDLEVBQU84QixjQUkzQjlCLEVBQU8yQyxpQkFBaUIsU0FBVSxXQUVoQ0wsRUFEa0J0QyxFQUFPOEIsZUF4UTdCLENBK1FHa0MsT0FBUWpFLFNBQVVDIiwic291cmNlc0NvbnRlbnQiOlsiLy9cbi8vIEdlYnJ1aWtlciBDZW50cmFhbCAtIGZpbHRlcnMuanNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEZ1bmN0aW9uYWxpdGVpdCB2b29yIGhldCB0b2V2b2VnZW4gdmFuIGVlbiBhY3RpdmUgY2xhc3MgYWFuIGZpbHRlcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEBwYWNrYWdlIGdlYnJ1aWtlci1jZW50cmFhbFxuLy8gQGF1dGhvciAgVGFtYXJhIGRlIEhhYXNcbi8vIEBsaWNlbnNlIEdQTC0yLjArXG4vLyBAdmVyc2lvbiAzLjE1Ljlcbi8vIEBsaW5rICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9JQ1RVL2ljdHV3cC10aGVtZS1nZWJydWlrZXJjZW50cmFhbFxuXG5cbnZhciBmaWx0ZXJMYWJlbCA9ICQoJy5mb3JtLWl0ZW0tLWZpbHRlciBsYWJlbCcpO1xuXG5maWx0ZXJMYWJlbC5jbGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgZm9ybUl0ZW0gPSAkKHRoaXMpLnBhcmVudCgpO1xuXG4gICAgaWYgKGZvcm1JdGVtLmZpbmQoJ2lucHV0OmNoZWNrZWQnKS5sZW5ndGgpIHtcbiAgICAgICAgZm9ybUl0ZW0ucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1JdGVtLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICB9XG5cbn0pO1xuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vL1xuLy8gR2VicnVpa2VyIENlbnRyYWFsIC0gbWVudS5qc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRnVuY3Rpb25hbGl0ZWl0IHZvb3IgdG9uZW4gLyB2ZXJiZXJnZW4gbW9iaWVsIG1lbnVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEBwYWNrYWdlIGdlYnJ1aWtlci1jZW50cmFhbFxuLy8gQGF1dGhvciAgVGFtYXJhIGRlIEhhYXMsIFBhdWwgdmFuIEJ1dXJlblxuLy8gQGxpY2Vuc2UgR1BMLTIuMCtcbi8vIEB2ZXJzaW9uIDUuMC4zMlxuLy8gQGxpbmsgICAgaHR0cHM6Ly9naXRodWIuY29tL0lDVFUvZ2VicnVpa2VyLWNlbnRyYWFsLXdvcmRwcmVzcy10aGVtZVxuXG4vL21lbnUtaXRlbSBtZW51LWl0ZW0tdHlwZS10YXhvbm9teSBtZW51LWl0ZW0tb2JqZWN0LWNhdGVnb3J5IG1lbnUtaXRlbS1oYXMtY2hpbGRyZW4gbWVudS1pdGVtLTk3MlxuXG5jb25zdCBicmVha3BvaW50bWVudSA9IDkwMDsgLy8gb3AgOTAwcHggdG9nZ2xlIHR1c3NlbiBkZXNrdG9wIC8gbW9iaWVsLCB6aWUgb29rICduYXYnOiA5MDBweFxuY29uc3QgdG90YWxNZW51RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudS1wcmltYXJ5XCIpO1xuY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImxpLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW5cIik7XG5jb25zdCB0b2dnbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idG4tLXRvZ2dsZS1tZW51XCIpO1xuY29uc3QgZGl2TWVudUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubC1oZWFkZXItbmF2XCIpO1xuY29uc3QgbWFpbk1lbnUgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1wcmltYXJ5Jyk7XG5jb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpO1xuXG5mdW5jdGlvbiBob3Zlckxpc3RJdGVtKHRoZU9iamVjdCwgZGluZ2VzKSB7XG5cbiAgdGhlT2JqZWN0LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2RlZmF1bHQnKTtcblxuICBpZiAodGhlT2JqZWN0LmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKSB7XG4gICAgLy8gZGl0IGxpc3QtaXRlbSBoZWVmdCBjbGFzczogLm9wZW4sIGR1cyBzdGF0dXMgaXMgb3BlbjsgbmlldXdlIHN0YXR1cyB3b3JkdDogYWxsZXMgc2x1aXRlblxuICAgIHRoZU9iamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgdGhlT2JqZWN0LmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpOyAvLyBleHBsaWNpZXRlIGNsYXNzLCB3YW50IGtsaWsgZW4gbW91c2UtZXZlbnRzIGxvcGVuIGRvb3IgZWxrYWFyXG5cbiAgICB0aGVPYmplY3QucXVlcnlTZWxlY3RvcignYScpLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFwiZmFsc2VcIik7XG4gICAgaWYgKHR5cGVvZiB0aGVPYmplY3QucXVlcnlTZWxlY3RvcignYnV0dG9uJykgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoZU9iamVjdC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBcImZhbHNlXCIpO1xuICAgIH1cbiAgICB0aGVPYmplY3QucXVlcnlTZWxlY3RvcigndWwuc3ViLW1lbnUnKS5jbGFzc0xpc3QuYWRkKCd2aXN1YWxseWhpZGRlbicpO1xuICAgIHRoZU9iamVjdC5xdWVyeVNlbGVjdG9yKCd1bC5zdWItbWVudScpLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFwiZmFsc2VcIik7XG4gIH0gZWxzZSB7XG4gICAgLy8gaGVlZnQgR0VFTiBjbGFzczogLm9wZW4sIGR1cyBzdGF0dXMgaXMgbmlldCBvcGVuOyBuaWV1d2Ugc3RhdHVzIHdvcmR0OiBhbGxlcyBvcGVuZW5cbiAgICB0aGVPYmplY3QuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgIHRoZU9iamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZWQnKTtcblxuICAgIHRoZU9iamVjdC5xdWVyeVNlbGVjdG9yKCdhJykuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgXCJ0cnVlXCIpO1xuICAgIGlmICh0eXBlb2YgdGhlT2JqZWN0LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGVPYmplY3QucXVlcnlTZWxlY3RvcignYnV0dG9uJykuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgXCJ0cnVlXCIpO1xuICAgIH1cbiAgICB0aGVPYmplY3QucXVlcnlTZWxlY3RvcigndWwuc3ViLW1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCd2aXN1YWxseWhpZGRlbicpO1xuICAgIHRoZU9iamVjdC5xdWVyeVNlbGVjdG9yKCd1bC5zdWItbWVudScpLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFwidHJ1ZVwiKTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIG9wZW5NZW51SXRlbXMoKSB7XG5cbiAgLy8gYWxsZSBpdGVtcyBvcGVuZW4gZW4gZXZlbnR1ZWxlIGFuZGVyZSBjbGFzc2VzIHZvb3IgZWxrIGxpc3QtaXRlbSB2ZXJ3aWpkZXJlblxuICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG1lbnVJdGVtcywgZnVuY3Rpb24gKGVsLCBpKSB7XG5cbiAgICBlbC5jbGFzc0xpc3QuYWRkKFwib3BlblwiKTtcbiAgICB2YXIgc3VibGlzdCA9IGVsLnF1ZXJ5U2VsZWN0b3IoXCJ1bC5zdWItbWVudVwiKTtcbiAgICBpZiAoc3VibGlzdCkge1xuICAgICAgc3VibGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzdWFsbHloaWRkZW5cIik7XG4gICAgICBzdWJsaXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFwidHJ1ZVwiKTtcbiAgICB9XG5cbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGhvdmVyTGlzdEl0ZW0odGhpcywgJ292ZXInKTtcbiAgICB9KTtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGhvdmVyTGlzdEl0ZW0odGhpcywgJ291dCcpO1xuICAgIH0pO1xuXG4gIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGNsb3NlTWVudUl0ZW1zKCkge1xuXG4gIGNvbnNvbGUubG9nKCdjbG9zZU1lbnVJdGVtcycpO1xuXG4gIHZhciB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICB2YXIgbGlzdGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tZW51LWl0ZW0taGFzLWNoaWxkcmVuXCIpO1xuXG4gIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobWVudUl0ZW1zLCBmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFwib3BlblwiKTtcbiAgICBlbC5xdWVyeVNlbGVjdG9yKCdhJykuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgXCJmYWxzZVwiKTtcblxuICAgIGlmICh3aWR0aCA+IGJyZWFrcG9pbnRtZW51KSB7XG5cbiAgICAgIHZhciBidXR0b25FeGlzdHMgPSBlbC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcbiAgICAgIHZhciBzdWJtZW51ID0gZWwucXVlcnlTZWxlY3RvcigndWwuc3ViLW1lbnUnKTtcblxuICAgICAgaWYgKGJ1dHRvbkV4aXN0cyAmJiB0eXBlb2YgYnV0dG9uRXhpc3RzICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGJ1dHRvbkV4aXN0cy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBcImZhbHNlXCIpO1xuICAgICAgICBidXR0b25FeGlzdHMuY2xhc3NMaXN0LnJlbW92ZSgnb3Blbi1saXN0Jyk7XG4gICAgICB9XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yKCd1bC5zdWItbWVudScpLmNsYXNzTGlzdC5hZGQoJ3Zpc3VhbGx5aGlkZGVuJyk7XG4gICAgfVxuXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpc3RvdGFsTWVudUVsZW1lbnRNZW51KGV2ZW50KSB7XG4gIGlmICh0b3RhbE1lbnVFbGVtZW50ICE9PSBldmVudC50YXJnZXQgJiYgIXRvdGFsTWVudUVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgIGNsb3NlTWVudUl0ZW1zKCk7XG4gIH1cbn1cblxuZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICBldnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xuICBpZiAoZXZ0LmtleUNvZGUgPT0gMjcpIHtcbiAgICAvLyBjbG9zZSB3aXRoIEVTQ1xuICAgIGNsb3NlTWVudUl0ZW1zKCk7XG4gIH1cbn07XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGlzdG90YWxNZW51RWxlbWVudE1lbnUpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG5mdW5jdGlvbiBjbGVhblVwTWVudSgpIHtcbiAgLy8gdmVyd2lqZGVyIGV2ZW50dWVlbCBhbCBhYW53ZXppZ2UgbWVudS1rbm9wcGVuIHZhbiBlZW4gdm9yaWdlIGtlZXIgKHdpbmRvdyByZXNpemUgYmJ5KVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24ubWFpbi1tZW51X19vcGVuLXN1YicpLmZvckVhY2goZnVuY3Rpb24gKHRoaXNFbGVtZW50KSB7XG4gICAgdGhpc0VsZW1lbnQucmVtb3ZlKCk7XG4gIH0pO1xuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbmZ1bmN0aW9uIGRvTmF2KHdpZHRoKSB7XG5cblxuICAvLyBab3JnZW4gZGF0IGFsbGUgZXZlbnR1ZWxlIHRvZWdldm9lZ2RlIGJ1dHRvbnMgd2VlciB3ZWdnZWhhYWxkIHdvcmRlblxuICBjbGVhblVwTWVudSgpO1xuXG4gIGlmICh3aWR0aCA8IGJyZWFrcG9pbnRtZW51KSB7XG5cbiAgICAvLyBjbGFzc2VzIGVuIGF0dHJpYnV0ZW4gd2VnaGFsZW4gZGllIGVydm9ybyB6b3JnZW4gZGF0IHN1Ym1lbnUtaXRlbXMgdmVyYm9yZ2VuIHdvcmRlblxuICAgIG9wZW5NZW51SXRlbXMoKTtcblxuICAgIHRvZ2dsZU1lbnVbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBib2R5WzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctbWVudScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgYm9keVswXS5jbGFzc0xpc3QuYWRkKCdzaG93LW1lbnUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9IGVsc2Uge1xuICAgIC8vIERlc2t0b3BcblxuXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtZW51SXRlbXMsIGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgdmFyIHRoaXNMaXN0SXRlbSA9IGVsO1xuXG4gICAgICB2YXIgY3VycmVudFN1Ym1lbnVzID0gdGhpc0xpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zdWItbWVudScpO1xuICAgICAgdmFyIGFuY2hvckluTGlzdEl0ZW0gPSBlbC5xdWVyeVNlbGVjdG9yKCdhJyk7XG4gICAgICB2YXIgYXBwZW5kQnV0dG9uQWZ0ZXJBbmNob3IgPSAnPGJ1dHRvbiBjbGFzcz1cImljb24gaWNvbi0tYXJyb3cgaWNvbi0tc21hbGxcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBkYXRhLW9sLWhhcy1jbGljay1oYW5kbGVyIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPjxzcGFuIGNsYXNzPVwidmlzdWFsbHloaWRkZW5cIj5TdWJtZW51IHZvb3Ig4oCcJyArIGFuY2hvckluTGlzdEl0ZW0udGV4dCArICfigJ08L3NwYW4+PC9idXR0b24+Jztcbi8vICAgICAgdmFyIGFwcGVuZEJ1dHRvbkFmdGVyQW5jaG9yID0gJzxidXR0b24gY2xhc3M9XCJtYWluLW1lbnVfX29wZW4tc3ViIGRlZmF1bHRcIj48c3Bhbj48c3BhbiBjbGFzcz1cInZpc3VhbGx5aGlkZGVuXCI+U3VibWVudSB2b29yIOKAnCcgKyBhbmNob3JJbkxpc3RJdGVtLnRleHQgKyAn4oCdPC9zcGFuPjwvc3Bhbj48L2J1dHRvbj4nO1xuICAgICAgYW5jaG9ySW5MaXN0SXRlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgYXBwZW5kQnV0dG9uQWZ0ZXJBbmNob3IpO1xuXG4gICAgICAvLyB2ZXJiZXJnIGhldCBzdWJtZW51IGluIGRpdCBsaXN0aXRlbVxuICAgICAgY3VycmVudFN1Ym1lbnVzLmNsYXNzTGlzdC5hZGQoJ3Zpc3VhbGx5aGlkZGVuJyk7XG5cbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2RlZmF1bHQnKTtcblxuICAgICAgICAvLyBrbGlra2VuIGthbjpcbiAgICAgICAgLy8gLSBtZXQgdG9ldHNlbmJvcmQsIHpvbmRlciBob3ZlcmFjdGllcyAoYmlqdi4gYWxzIGplIGFsbGVlbiBtZXQgdG9ldHNlbmJvcmQgbmF2aWdlZXJ0KVxuICAgICAgICAvLyAtIG1ldCBtdWlzLCBkdXMgbWV0IGhvdmVyYWN0aWVzLiBJbiBkYXQgZ2V2YWw6XG4gICAgICAgIC8vICAgICAgLSBrYW4gaGV0IGxpc3QtaXRlbSBhbCBvcGVuIHppam5cbiAgICAgICAgLy8gICAgICAtIGthbiBoZXQgbGlzdC1pdGVtIGFsIGdlc2xvdGVuIHppam4gemlqblxuXG4gICAgICAgIHZhciBzdWJMaXN0ID0gdGhpcy5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3VsLnN1Yi1tZW51Jyk7XG4gICAgICAgIHZhciB2YXJFeHBhbmRlZCA9IHN1Ykxpc3QuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyk7XG4gICAgICAgIHZhciBpc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICB2YXIgaXNFeHBhbmRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIHN1Ykxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXN1YWxseWhpZGRlbicpICkge1xuICAgICAgICAgIGlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICggdmFyRXhwYW5kZWQudG9TdHJpbmcoKSAhPT0gJ2ZhbHNlJyApIHtcbiAgICAgICAgICBpc0V4cGFuZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggaXNFeHBhbmRlZCAmJiBpc1Zpc2libGUgKSB7XG4gICAgICAgICAgLy8gaGVlZnQgd2VsIGNsYXNzIG9wZW4sIGR1cyBzdGF0dXMgaXMgb3BlbjsgbmlldXdlIHN0YXR1cyB3b3JkdDogYWxsZXMgc2x1aXRlblxuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBcImZhbHNlXCIpO1xuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBcImZhbHNlXCIpO1xuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuLWxpc3QnKTtcbiAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcigndWwuc3ViLW1lbnUnKS5jbGFzc0xpc3QuYWRkKCd2aXN1YWxseWhpZGRlbicpO1xuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCd1bC5zdWItbWVudScpLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFwiZmFsc2VcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaGVlZnQgR0VFTiBjbGFzcyBvcGVuLCBkdXMgc3RhdHVzIGlzIG5pZXQgb3BlbjsgbmlldXdlIHN0YXR1cyB3b3JkdDogYWxsZXMgb3BlbmVuXG4gICAgICAgICAgdGhpcy5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignYScpLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFwidHJ1ZVwiKTtcbiAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignYnV0dG9uJykuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgXCJ0cnVlXCIpO1xuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5jbGFzc0xpc3QuYWRkKCdvcGVuLWxpc3QnKTtcbiAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcigndWwuc3ViLW1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCd2aXN1YWxseWhpZGRlbicpO1xuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCd1bC5zdWItbWVudScpLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFwidHJ1ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzTGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGhvdmVyTGlzdEl0ZW0odGhpcywgJ292ZXInKTtcbiAgICAgIH0pO1xuICAgICAgdGhpc0xpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBob3Zlckxpc3RJdGVtKHRoaXMsICdvdXQnKTtcbiAgICAgIH0pO1xuXG5cbiAgICB9KTtcblxuXG4gIH1cbn1cblxuXG52YXIgaXNJRTExID0gISF3aW5kb3cuTVNJbnB1dE1ldGhvZENvbnRleHQgJiYgISFkb2N1bWVudC5kb2N1bWVudE1vZGU7XG5cbmlmICggaXNJRTExICkge1xuICAvLyBsYWxhbGEsIG5pa3MgbGV1a3Mgdm9vciBJRTExXG59XG5lbHNlIHtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd2luZG93d2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBkb05hdih3aW5kb3d3aWR0aCk7XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHdpbmRvd3dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgZG9OYXYod2luZG93d2lkdGgpO1xuICB9KTtcblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiJdLCJmaWxlIjoiZ2MtbWFpbi1taW4uanMifQ==
